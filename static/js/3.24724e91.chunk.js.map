{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profileinfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","assets/images/default_photo.jpg","components/Profile/Profileinfo/ProfileStatusWithHooks.jsx","components/Profile/Profileinfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","message","likeCount","className","P","item","src","alt","maxLength10","maxLengthCreator","MyPosts","React","memo","props","postsElements","posts","reverse","map","p","likesCount","id","styles","postsBlock","AddPostFormRedux","onSubmit","values","addPost","newPostBody","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","descriptionBlock","photo","photos","large","defaultPhoto","fullName","lookingForAJob","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","Component","compose","auth","isAurh","isAuth","withRouter"],"mappings":"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","file":"static/js/3.24724e91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2L2NI\",\"img\":\"Profile_img__15YTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2nbkH\",\"posts\":\"MyPosts_posts__3KJUZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2Lqwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3mCCw\",\"photo\":\"ProfileInfo_photo__1VyGz\"};","import React from 'react';\r\nimport P from './Post.module.css';\r\n\r\nconst Post = ({ message, likeCount }) => {\r\n    return (\r\n        <div className={P.item}>\r\n            <img src=\"https://99px.ru/sstorage/53/2014/10/tmb_111953_6447.jpg\" alt=\"avatarka\" />\r\n                {message}\r\n            <div>\r\n                <span>Like {likeCount}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {required, maxLengthCreator} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    \r\n    let postsElements = [...props.posts].reverse().map( p => <Post message={p.message} likeCount={p.likesCount} key={p.id} id={p.id} /> ); // Посты в обратном порядке\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostBody);\r\n    } \r\n\r\n    return (\r\n        <div className={styles.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <AddPostFormRedux onSubmit={addNewPost} />\r\n            </div>\r\n            <div className={styles.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} \r\n                name='newPostBody' \r\n                placeholder='Enter your post'\r\n                validate={[required, maxLength10]} />\r\n            <div><button>Add post</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: 'messageAddPostForm'})(AddPostForm);\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => { dispatch(addPostActionCreator(newPostBody)); }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/default_photo.1306297c.jpg\";","import React, {useState, useEffect} from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n    \n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect( () => {\n        setStatus(props.status);\n    }, [props.status] );\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n\n    return (\n        <div>\n            { !editMode &&\n                <div>\n                    <span onDoubleClick={activateEditMode}>{props.status || '------'}</span>\n                </div>\n            }\n            { editMode && \n                <div>\n                    <input onChange={onStatusChange} \n                    autoFocus={true}\n                    onBlur={deactivateEditMode}\n                    value={status} />\n                </div>\n            }\n        </div>\n    )    \n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport styles from './ProfileInfo.module.css';\r\nimport defaultPhoto from '../../../assets/images/default_photo.jpg';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div className={styles.descriptionBlock}>\r\n            <div className={styles.photo}>\r\n                {profile.photos.large == null ? <img src={defaultPhoto} alt=\"default photo\"/> : <img src={profile.photos.large} alt=\"profile photo\"/> }\r\n            </div>\r\n            <div>\r\n                Full Name: {profile.fullName}\r\n            </div>\r\n            <div>\r\n                Looking for a job? {profile.lookingForAJob ? 'Yes, it is!' : 'No, already working'}\r\n            </div>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './Profileinfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            {/* <img className={styles.img} src='https://www.imgworlds.com/wp-content/uploads/2015/12/generic.jpg' /> */}\r\n            <div className={styles.profile}>\r\n                <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n                <MyPostsContainer />\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile.jsx';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport {getUserProfile, getStatus, updateStatus} from '../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} />\r\n        )\r\n    }    \r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAurh: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter\r\n)(ProfileContainer);"],"sourceRoot":""}