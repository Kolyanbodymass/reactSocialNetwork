{"version":3,"sources":["redux/dialogs-reducer.js","Api/Api.js","components/Navbar/Sidebar/Sidebar.module.css","components/Navbar/Sidebar/SidebarFriend/SidebarFriend.module.css","components/Navbar/Navbar.module.css","components/Header/Header.jsx","assets/images/avatarAuth.png","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Sidebar/SidebarFriend/SidebarFriend.jsx","components/Navbar/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/userPhoto.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Users/Users.module.css","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","text","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","headerAPI","getHeaderAuth","getHeaderPhoto","getStatus","updateStatus","status","put","authAPI","login","email","password","rememberMe","logout","module","exports","Header","props","className","styles","header","src","alt","loginBlock","isAuth","onClick","to","avatarAuth","photos","small","SET_USER_DATA","SET_AUTH_PHOTO","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","getAuthUserPhoto","authReducer","HeaderContainer","this","React","Component","connect","auth","SidebarFriend","SF","item","Sidebar","SidebarFriendElements","friends","map","f","S","sidebar","Navbar","N","nav","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","p","selectedPage","pageNumber","e","User","user","userPhoto","disable","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","wrapper","preloader","Preloader","compose","bind","page","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","SamuraiJSApp","ReactDOM","StrictMode","document","getElementById","FormControl","input","meta","touched","children","hasError","formControls","Textarea","restProps","child","placeholder","validate","component","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostBody","setStatus","getUserProfile","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.f680eae3.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Dimych' },\r\n        { id: 2, name: 'Andrew' },\r\n        { id: 3, name: 'Sveta' },\r\n        { id: 4, name: 'Sasha' },\r\n        { id: 5, name: 'Victor' },\r\n        { id: 6, name: 'Valera' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Hi is your' },\r\n        { id: 3, message: 'Yo' }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let text = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: text}]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({ type: ADD_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"da5df115-2b84-47f0-b70d-e4f27c164b10\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const headerAPI = {\r\n    getHeaderAuth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    getHeaderPhoto(id) {\r\n        return instance.get(`profile/${id}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__jY3UW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SidebarFriend_item__BKnYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3XAMp\",\"item\":\"Navbar_item__1ggC0\",\"active\":\"Navbar_active__ZGRUr\"};","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport avatarAuth from '../../assets/images/avatarAuth.png';\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n        <header className={styles.header}>\r\n            <img src=\"https://s1.logaster.com/static/v3/img/products/logo.png\" alt=\"logo\"/>\r\n\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n                \r\n            </div>\r\n            <div className={styles.avatarAuth}>           \r\n                <img src={props.photos !== null && props.photos.small !== null ? props.photos.small : avatarAuth} alt=\"avatar\"/>\r\n            </div>\r\n        </header>\r\n    );\r\n    \r\n}\r\n\r\nexport default Header;\r\n\r\n ","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAqCAYAAADxughHAAAFRElEQVRoQ+2YfUzUZRzAv89xLxwvBx4HgRoKI8IaL4JaYZMz5H3GBKHW8mWrLGk6M1wbzUVt/mG1mStzuqUNMwsZ2ULheDvAIDZpWo1lZUVmNOKCxIM47sfv1/cxaHD3u98bP7bm+G63g/t9X57P8/0+3+f5PQTuECF3CAcsgPzfMrmQkYWMzNMMzFtpXWjuuI9w7NMaDjZwAJE4fi1+nMBBL0e404wruHbjxlVjanGpCmKzdUawxH0ena6SOMAJALI3NzvjiER9n2qqgNjtdq3LTXowSrLCAWGSuKKcnPXnFNrPfR+pb257iLDQpXQAHnZXcrOtK5X4mlNGbLb2HTiVx5QEFrBxdndlhFRW4vTIEMUgDU3tpcBxH/PF+mvoJtTV2ESH4W80QN6mLAgMCvDUdWJmgkUdzFBQBNLQ0BEFGrafF2L4JpyvaURG7FUSJbMgA6KW3OWp/RXCpEh0oWyNNDS2uTCA3jPI2apPwTVOH8mXJ3eUehnhVBTlZVs/keJNdkbqbW37CIHXPZ031dlhoH9QSkxenXVZ6RAds9TzGYdZ0UhxKhsEs0EXoZfdB8erpcTzqROXEAsPruPbfsge3GcOizmXBVLf2JpJQNPM53QmiNHoD0HBgWKx4daIE8anSjE2fjmkW9fw2bgxK15l7KkoCwSz8R06iBcCOfBmBUQvWyIKMa1w4bMWOFNVCwIg4PpbayosfPiWkFO5ID5bEc1IXHwMvHKgXDLEtOKWkucFQXBNluVkWY+qAtLT06NzDDnxbMQvFGRTST4UlRYoAklKux/oh1c4+CI3x5quCojQ3kED1J6ug9yC9bdh5ArNyOatheDvb/BlOozrxKwKCD2Wa1i215czun9MjjOKQHY/9zIUFGcLjXMcQYyqgNhs9gSOkG+FnMUsvxvi74mVmxCwNbWL2agJ0hnBEfeAUMSoyAhISlwhNiiv5xJAHJiRcFUyUl1d7WcKjWCEnOl0WnjEulYWCN1H2i92C9pgq2zFo0qmKiDUia9dfWaA7A3rgGC/lCpfXv4GHI4hMZAnEOSMaiD1jW2XxF5jLWFmSEtNlMTBsiw0tVwU1WWZMf/8/HzB06j0qaMZaWhNBo3miljktJWJYLEIdsvbLlrsncAwgtVK1UZxfQSJxZQFMlVeNLKfkONgkwlWJMTBohD+dyP6rsIwk9Da1ik2PsBOWZyXlVErpigbBNvwZnR+VsixGcuLwtC1Eh4WCqagQCAaAm43A384hsFiDoEAPFhK6FYMZkMnBkGfywaZyooDv8OmA9Bad46Mwu+/DcCNX/ohZXUSpK7hf7mLxQOlHrsbFboRRkRaYOmyxRAWbga9YfYhlyUkNT8r4/K8gVR3dRlNzomx6z/dgI5m7wsUY4AR9u7fNSu+Qa+DmOjF//3mGByCF8r2e43RhOX46GN5eI8HNdipSqRAKM4INTx+5GRKh/2Sz9na+eIzYLYsAq3WD6LxfVyvm10hu5+tgGG8pOATvV7Xd+LDwzFSIeYEQo2f2rZnrWt04nNfAV87+BLExEZ7PX614g249kMfr5lGo/mxqvqdODkQcwahDsq274sccY7+in/+W/geYsAT7eoHUiAk1AS9X1+Fvp+pKr9g9k69/9HbW+VCqAIyHXTb47tOTjKT2xUNgpCxYJM++d33Dl1TYq8qCHVWWVmp7bv651u4R+zEf0VvP7CMrhsNuuJjpw7Re+M5iaL2KyVi+ZbywCGOzeSYiQIOyL3MJKv105BB4ufXbfQ3nDt64uD32P2l3+KJBJ03ECmwauosgKg5m2r4+gffGJ461Ml2RwAAAABJRU5ErkJggg==\"","import {headerAPI, authAPI} from '../Api/Api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst SET_AUTH_PHOTO = 'samurai-network/auth/SET_AUTH_PHOTO';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    photos: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return { \r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case SET_AUTH_PHOTO:\r\n            return {                \r\n                ...state,\r\n                photos: action.photos\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {id, email, login, isAuth} })\r\nexport const setAuthUserPhoto = (photos) => ({type: SET_AUTH_PHOTO, photos})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await headerAPI.getHeaderAuth();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n        getAuthUserPhoto(id);\r\n    }\r\n}\r\n\r\nexport const getAuthUserPhoto = (id) => async (dispatch) => {\r\n    let response = await headerAPI.getHeaderPhoto(id);\r\n                   \r\n    dispatch(setAuthUserPhoto(response.data.photos));    \r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n        \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n        \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} photos={this.props.photos}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    photos: state.auth.photos\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport SF from './SidebarFriend.module.css';\r\n\r\nconst SidebarFriend = (props) => {\r\n\r\n    return (\r\n        <div className={SF.item}>\r\n            <img src={props.src} alt=\"avatarka\" />\r\n            <div>\r\n                <span>{props.name}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarFriend;","import React from 'react';\r\nimport S from './Sidebar.module.css';\r\nimport SidebarFriend from './SidebarFriend/SidebarFriend.jsx';\r\n\r\nconst Sidebar = (props) => {\r\n    \r\n    let SidebarFriendElements = props.friends.map( f => <SidebarFriend src={f.src} name={f.name} key={f.id} id={f.id} /> );\r\n\r\n    return (\r\n       <div className={S.sidebar}>\r\n           <div>Friends:</div>\r\n           {SidebarFriendElements}\r\n       </div> \r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport N from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Sidebar from './Sidebar/Sidebar.jsx';\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n        <nav className={N.nav}>\r\n            <div className={N.item}>\r\n                <NavLink to=\"/Profile\" activeClassName={N.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${N.item} ${N.active}`}>\r\n                <NavLink to=\"/Dialogs\" activeClassName={N.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={N.item}>\r\n                <NavLink to=\"/Users\" activeClassName={N.active}>Users</NavLink>\r\n            </div>\r\n            <div className={N.item}>\r\n                <NavLink to=\"/News\" activeClassName={N.active}>News</NavLink>\r\n            </div>\r\n            <div className={N.item}>\r\n                <NavLink to=\"/Music\" activeClassName={N.active}>Music</NavLink>\r\n                </div>\r\n            <div className={N.item}>\r\n                <NavLink to=\"/Settings\" activeClassName={N.active}>Settings</NavLink>\r\n            </div>\r\n            <Sidebar friends={props.friends} />\r\n\t\t</nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\n","import {usersAPI} from '../Api/Api';\r\nimport {updateObjectInArray} from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return { \r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return { \r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return { \r\n                ...state,\r\n                followingInProgress: action.isFetching \r\n                ? [...state.followingInProgress, action.userId] \r\n                : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));    \r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId)); \r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={cn(styles.paginator)}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/userPhoto.a6143582.png\";","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/userPhoto.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({user,followingInProgress, unfollow, follow}) => {\r\n    return( \r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} alt=\"avatar\" />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disable={followingInProgress.some(id => id === user.id)} onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                        : <button disable={followingInProgress.some(id => id === user.id)} onClick={() => {follow(user.id)}}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n    return <div>\r\n        \r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n        <div>\r\n            {users.map(u => <User user={u}\r\n                followingInProgress={props.followingInProgress}\r\n                unfollow={props.unfollow}\r\n                follow={props.follow}\r\n                key={u.id} />\r\n            )}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, \r\n    (users) => {\r\n    return users.filter(u => true); // Фэйковая фильтрация для реализации библиотеки reselect\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport {follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport styles from './Users.module.css';\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <div className={styles.wrapper}>\r\n            <div className={styles.preloader}>\r\n                { this.props.isFetching ? <Preloader /> : null }\r\n            </div>\r\n            \r\n            <Users \r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers})\r\n)(UsersContainer);","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Input, createField} from '../common/FormsControls/FormsControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                { createField(\"Email\", \"email\", [required], Input) }\r\n                { createField(\"Password\", \"password\", [required], Input, {type: \"password\"}) }\r\n                { createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\") }\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = ({login, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return { \r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        { id: 1, name: 'Kolya', src: 'https://g0.sunmag.me/sunmag.me/wp-content/uploads/2019/11/sunmag-004-small-avatar.png' },\r\n        { id: 2, name: 'Katya', src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSOfqBBnGW-ntm2BhRJQQJupmw5Gh5drIDnvA&usqp=CAU' },\r\n        { id: 3, name: 'Vova', src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR7wIM1l36lND_jsEwki3UCnRpcTzs-AfPv-A&usqp=CAU' },\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {combineReducers, createStore, applyMiddleware, compose} from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader.js';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props}/> \r\n        </React.Suspense> \r\n    }\r\n}","import React from 'react';\nimport HeaderContainer from './components/Header/HeaderContainer.jsx';\nimport Navbar from './components/Navbar/Navbar.jsx';\nimport News from './components/News/News.jsx';\nimport Music from './components/Music/Music.jsx';\nimport Settings from './components/Settings/Settings.jsx';\nimport { BrowserRouter, Route, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer.jsx';\nimport LoginPage from './components/Login/Login';\nimport {connect} from 'react-redux';\nimport {initializeApp} from './redux/app-reducer';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\nimport {compose} from 'redux';\n\nimport './App.css';\nimport Preloader from './components/common/Preloader/Preloader.js';\nimport {withSuspense} from './hoc/withSuspense';\n\n// import DialogsContainer from './components/Dialogs/DialogsContainer.jsx';\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n// import ProfileContainer from './components/Profile/ProfileContainer';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n        this.props.initializeApp();\n    }\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar friends={this.props.friends}/>\n\t\t\t\t<div className=\"app-wrapper-content\">\n\t\t\t\t\t<Route path=\"/profile/:userId?\" \n\t\t\t\t\t\trender={ withSuspense(ProfileContainer) } />\n\t\t\t\t\t<Route path=\"/dialogs\" \n\t\t\t\t\t\trender={ withSuspense(DialogsContainer) } />\n\t\t\t\t\t<Route path=\"/news\" \n\t\t\t\t\t\trender={ () => <News /> } />\n\t\t\t\t\t<Route path=\"/music\" \n\t\t\t\t\t\trender={ () => <Music /> } />\n\t\t\t\t\t<Route path=\"/settings\" \n\t\t\t\t\t\trender={ () => <Settings /> } />\n\t\t\t\t\t<Route path=\"/users\" \n\t\t\t\t\t\trender={ () => <UsersContainer /> } />\n\t\t\t\t\t<Route path=\"/login\" \n\t\t\t\t\t\trender={ () => <LoginPage /> } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized,\n\tfriends: state.sidebar.friends\n})\n\nconst AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJSApp = (props) => {\n\treturn <BrowserRouter>\n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</BrowserRouter>\n}\n\nexport default SamuraiJSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <SamuraiJSApp />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// ServiceWorker.unregister();\n\n","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControls + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validate, component, props={}, text=\"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} \r\n            name={name} \r\n            validate={validate}\r\n            component={component}\r\n            {...props} /> {text}\r\n    </div>\r\n)","export default __webpack_public_path__ + \"static/media/preloader.997c3386.svg\";","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nlet Preloader = (props) => {\r\n    return <img src={preloader} alt=\"preloader\"/>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1vExA\",\"wrapper\":\"Users_wrapper__2hU82\",\"preloader\":\"Users_preloader__oR8ub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__1AFE3\",\"error\":\"FormsControls_error__aHjWD\",\"formSummaryError\":\"FormsControls_formSummaryError__1Gxze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__o_By-\",\"loginBlock\":\"Header_loginBlock__1PWxT\",\"avatarAuth\":\"Header_avatarAuth__2tIWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__z4gRq\",\"pageNumber\":\"Paginator_pageNumber__1mzVT\",\"selectedPage\":\"Paginator_selectedPage__3y5fp\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import {usersAPI, profileAPI} from '../Api/Api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 3}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({ type: ADD_POST, newPostBody })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer; "],"sourceRoot":""}